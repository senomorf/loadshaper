# VM.Standard.A1.Flex (4 vCPU, 24GB RAM, 4 Gbps) - MTU 9000 Optimized
# Optimized for Ampere with 20% memory rule and jumbo frames (MTU 9000)

# === Targets (aggressive for dedicated A1) ===
# Oracle reclaims VMs when ALL metrics are BELOW 20% (95th percentile over 7 days)
# Setting MEM_TARGET_PCT=30 provides 10% safety margin ABOVE the 20% threshold
# This ensures memory can be the "keeper" metric preventing reclamation
CPU_P95_SETPOINT=30.0               # Higher P95 target for 4-core A1 dedicated resources
CPU_P95_TARGET_MIN=22.0             # Minimum P95 target (must stay >20%)
CPU_P95_TARGET_MAX=35.0             # Maximum P95 target (efficiency ceiling)
CPU_P95_EXCEEDANCE_TARGET=6.5       # Target % of high-intensity slots
MEM_TARGET_PCT=30                   # 30% = 20% threshold + 10% safety margin for A1.Flex shapes
NET_TARGET_PCT=30                   # 4 Gbps capacity (~1200 Mbps target)

# === Safety stop thresholds ===
CPU_STOP_PCT=85                     # Higher for dedicated tenancy
MEM_STOP_PCT=90                     # Higher but respects 20% rule
NET_STOP_PCT=60                     # Higher capacity available

# === Control behavior ===
CONTROL_PERIOD_SEC=5
AVG_WINDOW_SEC=300
HYSTERESIS_PCT=5
JITTER_PCT=10                       # Lower jitter for more predictable performance
JITTER_PERIOD_SEC=5

# === Load average monitoring ===
LOAD_THRESHOLD=0.8                  # Higher threshold for 4 vCPU
LOAD_RESUME_THRESHOLD=0.5
LOAD_CHECK_ENABLED=true

# === Memory safety ===
MEM_MIN_FREE_MB=1024                # More RAM available
MEM_STEP_MB=256                     # Larger steps with more RAM

# === Network configuration (MTU 9000 optimized) ===
NET_MODE=client
NET_PROTOCOL=udp
# NET_PEERS=your-server.example.com  # Configure external servers you control
NET_PORT=15201
NET_BURST_SEC=5                     # Shorter bursts work better with jumbo frames
NET_IDLE_SEC=10
NET_PACKET_SIZE=8900                # Optimized for MTU 9000 (30-50% CPU reduction)

# === Network sensing ===
NET_SENSE_MODE=container
NET_IFACE_INNER=eth0
NET_LINK_MBIT=4000                  # 4 Gbps (4 vCPU Ã— 1 Gbps)

# === Network rate limits ===
NET_MIN_RATE_MBIT=5
NET_MAX_RATE_MBIT=3200              # Conservative below 4 Gbps