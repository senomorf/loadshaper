# VM.Standard.E2.2.Micro (2/8 OCPU, 2GB RAM, 50 Mbps external)
# Optimized for shared tenancy with more CPU/RAM than E2.1

# === Targets (moderate for shared tenancy E2) ===
# P95-driven CPU control for Oracle compliance
CPU_P95_SETPOINT=28.5               # Target CPU P95 for E2.2 (above 20% reclamation threshold)
MEM_TARGET_PCT=0                    # Disabled - memory doesn't affect E2 reclamation
NET_TARGET_PCT=15                   # Conservative for 50 Mbps external (~7.5 Mbps target)

# === Safety stop thresholds ===
CPU_STOP_PCT=50                     # Slightly higher for more OCPU
MEM_STOP_PCT=85                     # Safety threshold (memory targeting disabled)
NET_STOP_PCT=40                     # Conservative for external bandwidth

# === Control behavior ===
CONTROL_PERIOD_SEC=5
AVG_WINDOW_SEC=300
HYSTERESIS_PCT=5
JITTER_PCT=15
JITTER_PERIOD_SEC=5

# === Load average monitoring ===
LOAD_THRESHOLD=0.6
LOAD_RESUME_THRESHOLD=0.4
LOAD_CHECK_ENABLED=true

# === Memory safety ===
MEM_MIN_FREE_MB=512                 # Still conservative
MEM_STEP_MB=64

# === Network configuration ===
NET_MODE=client
NET_PROTOCOL=udp
NET_PEERS=10.0.0.2,10.0.0.3
NET_PORT=15201
NET_BURST_SEC=10
NET_IDLE_SEC=10

# === Network sensing ===
NET_SENSE_MODE=container
NET_IFACE_INNER=eth0
NET_LINK_MBIT=50                    # E2 external bandwidth cap

# === Network rate limits ===
NET_MIN_RATE_MBIT=1
NET_MAX_RATE_MBIT=40                # Well below 50 Mbps cap for safety